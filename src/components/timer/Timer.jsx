import React, { useState, useEffect } from "react";
import styled from "styled-components";
import Header from "../header/Header";
import useTimer from "../../hooks/useTimer";
import { IMAGES, PATH } from "../../constants/index";
import Button from "./TimerButton";

const Timer = () => {
  //

  // eslint-disable-next-line
  const [time, setTime] = useState(0.1 * 1000 * 60); // 25분  => 현재 25분으로 고정되어있는상황 이것을 동적으로  버튼 클릭햇을때 time의 상태를 바꿔줘야 함
  const { clearTimer, startTimer, currentTime, isClear, parsedTime } = useTimer(
    () => {
      alert("finish");
    }, // call back
    time
  );

  return (
    <div>
      <StBackground>
        <Header justifyContent="right" right={IMAGES.menu}></Header>

        <StTimerContainer>
          {/* <input value={inputValue} onChange={onChange} /> */}
          <StTimer>{parsedTime || "00:00"}</StTimer>
          {isClear ? (
            <Button onClick={() => startTimer(time)}>집중 시작하기</Button>
          ) : (
            <Button
              onClick={clearTimer}
              color="#614925"
              backgroundColor="transparent"
              fontSize="2.2rem"
              textDecoration="underline"
              underlinePosition="under"
              filter="none"
              fontWeight="400"
              fontFamily="MaplestoryOTFLight"
            >
              포기하기?
            </Button>
          )}
          <StMsg>오늘도 달려볼까요?</StMsg>
        </StTimerContainer>
      </StBackground>
    </div>
  );
};

export default Timer;

const StTimerContainer = styled.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`;

const StTimer = styled.div`
  width: 260px;
  height: 260px;
  margin: 90px 58px 33px 57px;
  border-radius: 50%;
  font-size: 7rem;
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #fffdfa;
  color: #595550;
`;

const StTimerBtn = styled.button``;

const StMsg = styled.p`
  margin-top: 226px;
  font-size: 1.6rem;
  font-family: "Pretendard";
  font-style: normal;
  /* line-height: 17px; */

  font-weight: 500;
  color: #403b36;
`;

const StBackground = styled.div`
  background-image: url("data:image/svg+xml,%3Csvg width='383' height='820' viewBox='0 0 383 820' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_202_910)' filter='url(%23filter0_d_202_910)'%3E%3Crect width='375' height='812' transform='translate(4)' fill='white'/%3E%3Crect x='4' width='375' height='812' fill='%23F9F3EA'/%3E%3Cg filter='url(%23filter1_f_202_910)'%3E%3Cpath d='M78.4474 620.581C83.0124 620.302 87.5641 619.957 92.1025 619.599C97.7423 619.161 103.395 618.736 109.035 618.298C117.051 617.688 125.225 617.038 132.431 614.888C139.636 612.725 145.847 608.77 146.975 603.767C147.983 599.335 144.971 594.876 142.105 590.67C129.06 571.508 117.608 551.947 107.841 532.121C103.966 524.265 100.33 516.317 94.584 508.885C90.0323 503.007 84.2067 497.513 78.4076 492.059C71.4407 485.49 64.4606 478.921 57.4937 472.352C53.8311 468.902 50.1685 465.452 45.8822 462.293C40.7068 458.472 34.6423 455.088 30.1835 450.947C26.5209 447.537 24.0261 443.702 20.1512 440.384C16.2763 437.067 10.4374 434.2 4.01462 434.267C-6.07076 434.373 -11.7106 441.101 -15.3334 446.913C-22.9505 459.148 -30.6207 471.49 -33.9914 484.561C-35.0662 488.688 -35.6899 492.868 -36.3269 497.048C-38.7156 512.787 -41.1042 528.565 -40.2947 544.45C-39.7639 554.814 -37.8795 565.178 -35.9952 575.528C-35.0397 580.73 -34.0975 585.946 -33.1421 591.148C-31.961 597.65 -31.8416 607.072 -25.4188 612.738C-20.4557 617.104 -11.3391 617.489 -3.65558 618.378C23.5484 621.47 51.2567 622.253 78.4474 620.581Z' fill='%23C0D0AC'/%3E%3Cpath d='M-4.5 501C22.2858 501 44 479.286 44 452.5C44 425.714 22.2858 404 -4.5 404C-31.2858 404 -53 425.714 -53 452.5C-53 479.286 -31.2858 501 -4.5 501Z' fill='%23C0D0AC'/%3E%3Cpath d='M86.4359 557.162C106.026 557.162 121.907 541.281 121.907 521.691C121.907 502.101 106.026 486.22 86.4359 486.22C66.8457 486.22 50.9646 502.101 50.9646 521.691C50.9646 541.281 66.8457 557.162 86.4359 557.162Z' fill='%23C0D0AC'/%3E%3Cpath d='M121.31 578.076C134.231 578.076 144.705 567.602 144.705 554.681C144.705 541.76 134.231 531.285 121.31 531.285C108.389 531.285 97.9146 541.76 97.9146 554.681C97.9146 567.602 108.389 578.076 121.31 578.076Z' fill='%23C0D0AC'/%3E%3Cpath d='M145 656C170.405 656 191 635.405 191 610C191 584.595 170.405 564 145 564C119.595 564 99 584.595 99 610C99 635.405 119.595 656 145 656Z' fill='%23C0D0AC'/%3E%3Cpath d='M198.5 659C213.688 659 226 646.688 226 631.5C226 616.312 213.688 604 198.5 604C183.312 604 171 616.312 171 631.5C171 646.688 183.312 659 198.5 659Z' fill='%23C0D0AC'/%3E%3Cpath d='M52 492C63.0457 492 72 483.046 72 472C72 460.954 63.0457 452 52 452C40.9543 452 32 460.954 32 472C32 483.046 40.9543 492 52 492Z' fill='%23C0D0AC'/%3E%3Cpath d='M78.8722 500.193C86.5969 500.193 92.8591 493.931 92.8591 486.206C92.8591 478.481 86.5969 472.219 78.8722 472.219C71.1475 472.219 64.8854 478.481 64.8854 486.206C64.8854 493.931 71.1475 500.193 78.8722 500.193Z' fill='%23C0D0AC'/%3E%3Cpath d='M363.624 563.797C376.34 563.797 386.648 553.489 386.648 540.773C386.648 528.058 376.34 517.749 363.624 517.749C350.908 517.749 340.6 528.058 340.6 540.773C340.6 553.489 350.908 563.797 363.624 563.797Z' fill='%23C0D0AC'/%3E%3Cpath d='M368.839 526.813C375.868 526.813 381.565 521.115 381.565 514.087C381.565 507.058 375.868 501.361 368.839 501.361C361.811 501.361 356.113 507.058 356.113 514.087C356.113 521.115 361.811 526.813 368.839 526.813Z' fill='%23C0D0AC'/%3E%3Cpath d='M381.565 514.153C392.903 514.153 402.094 504.962 402.094 493.624C402.094 482.286 392.903 473.095 381.565 473.095C370.227 473.095 361.036 482.286 361.036 493.624C361.036 504.962 370.227 514.153 381.565 514.153Z' fill='%23C0D0AC'/%3E%3Cpath d='M312 660C332.434 660 349 643.435 349 623C349 602.565 332.434 586 312 586C291.565 586 275 602.565 275 623C275 643.435 291.565 660 312 660Z' fill='%23C0D0AC'/%3E%3Cpath d='M374.598 633.519C370.033 633.241 365.482 632.896 360.943 632.537C355.303 632.099 349.65 631.675 344.01 631.237C335.995 630.626 327.821 629.976 320.615 627.826C313.409 625.663 307.199 621.709 306.071 616.706C305.062 612.274 308.075 607.815 310.941 603.608C323.986 584.446 335.425 564.886 345.205 545.06C349.08 537.204 352.716 529.255 358.462 521.824C363.013 515.945 368.839 510.451 374.638 504.997C381.605 498.428 388.585 491.859 395.552 485.291C399.215 481.84 402.877 478.39 407.164 475.232C412.339 471.41 418.403 468.026 422.862 463.886C426.525 460.475 429.02 456.64 432.895 453.323C436.77 450.005 442.608 447.139 449.031 447.205C459.117 447.311 464.756 454.039 468.379 459.852C475.996 472.087 483.667 484.428 487.037 497.499C488.112 501.626 488.736 505.806 489.373 509.987C491.761 525.725 494.15 541.503 493.341 557.388C492.81 567.752 490.925 578.116 489.041 588.467C488.086 593.669 487.143 598.884 486.188 604.086C485.007 610.588 484.887 620.01 478.465 625.677C473.502 630.042 464.385 630.427 456.701 631.316C429.497 634.408 401.789 635.191 374.598 633.519Z' fill='%23C0D0AC'/%3E%3Cpath d='M331.921 608.359C349.43 608.359 363.624 594.165 363.624 576.656C363.624 559.147 349.43 544.953 331.921 544.953C314.412 544.953 300.219 559.147 300.219 576.656C300.219 594.165 314.412 608.359 331.921 608.359Z' fill='%23C0D0AC'/%3E%3Cpath d='M389.726 722.27C384.338 721.939 378.977 721.527 373.602 721.116C366.941 720.612 360.279 720.094 353.617 719.59C344.156 718.86 334.508 718.103 326.002 715.569C317.496 713.034 310.17 708.35 308.843 702.445C307.662 697.216 311.206 691.948 314.589 686.985C329.983 664.372 343.492 641.309 355.024 617.9C359.589 608.637 363.875 599.255 370.669 590.484C376.044 583.543 382.905 577.067 389.752 570.618C397.98 562.868 406.207 555.118 414.435 547.369C418.748 543.308 423.074 539.234 428.13 535.505C434.234 530.993 441.4 527.012 446.655 522.115C450.981 518.094 453.927 513.556 458.492 509.641C463.057 505.727 469.957 502.356 477.535 502.436C489.438 502.555 496.1 510.504 500.36 517.351C509.343 531.789 518.394 546.36 522.388 561.767C523.649 566.637 524.405 571.573 525.148 576.497C527.962 595.062 530.788 613.693 529.833 632.431C529.209 644.666 526.98 656.888 524.75 669.096C523.636 675.241 522.508 681.385 521.393 687.529C519.986 695.199 519.867 706.32 512.276 712.994C506.424 718.157 495.662 718.594 486.598 719.643C454.498 723.332 421.813 724.234 389.726 722.27Z' fill='%2367986C'/%3E%3Cpath d='M380.291 647.439C403.406 647.439 422.145 628.7 422.145 605.585C422.145 582.469 403.406 563.731 380.291 563.731C357.175 563.731 338.436 582.469 338.436 605.585C338.436 628.7 357.175 647.439 380.291 647.439Z' fill='%2367986C'/%3E%3Cpath d='M339.153 672.109C354.397 672.109 366.755 659.751 366.755 644.507C366.755 629.263 354.397 616.905 339.153 616.905C323.908 616.905 311.551 629.263 311.551 644.507C311.551 659.751 323.908 672.109 339.153 672.109Z' fill='%2367986C'/%3E%3Cpath d='M332.597 721.607C351.008 721.607 365.932 706.682 365.932 688.272C365.932 669.861 351.008 654.937 332.597 654.937C314.187 654.937 299.263 669.861 299.263 688.272C299.263 706.682 314.187 721.607 332.597 721.607Z' fill='%2367986C'/%3E%3Cpath d='M389.222 580.239C398.339 580.239 405.73 572.848 405.73 563.731C405.73 554.613 398.339 547.223 389.222 547.223C380.104 547.223 372.714 554.613 372.714 563.731C372.714 572.848 380.104 580.239 389.222 580.239Z' fill='%2367986C'/%3E%3Cpath d='M67.2487 619.268C82.2584 619.268 94.4262 607.1 94.4262 592.09C94.4262 577.081 82.2584 564.913 67.2487 564.913C52.239 564.913 40.0713 577.081 40.0713 592.09C40.0713 607.1 52.239 619.268 67.2487 619.268Z' fill='%2367986C'/%3E%3Cpath d='M61.0911 575.609C69.3801 575.609 76.0997 568.889 76.0997 560.6C76.0997 552.311 69.3801 545.591 61.0911 545.591C52.802 545.591 46.0824 552.311 46.0824 560.6C46.0824 568.889 52.802 575.609 61.0911 575.609Z' fill='%2367986C'/%3E%3Cpath d='M46.0827 560.693C59.4654 560.693 70.3142 549.844 70.3142 536.461C70.3142 523.079 59.4654 512.23 46.0827 512.23C32.7001 512.23 21.8513 523.079 21.8513 536.461C21.8513 549.844 32.7001 560.693 46.0827 560.693Z' fill='%2367986C'/%3E%3Cpath d='M6.6299 538.956C20.7968 538.956 32.2813 527.471 32.2813 513.305C32.2813 499.138 20.7968 487.653 6.6299 487.653C-7.53696 487.653 -19.0215 499.138 -19.0215 513.305C-19.0215 527.471 -7.53696 538.956 6.6299 538.956Z' fill='%2367986C'/%3E%3Cpath d='M135.405 688.339C144.522 688.339 151.913 680.948 151.913 671.831C151.913 662.714 144.522 655.323 135.405 655.323C126.287 655.323 118.896 662.714 118.896 671.831C118.896 680.948 126.287 688.339 135.405 688.339Z' fill='%2367986C'/%3E%3Cpath d='M54.2968 701.517C59.6845 701.185 65.0457 700.773 70.4202 700.362C77.0818 699.858 83.7435 699.34 90.4051 698.836C99.8668 698.106 109.514 697.35 118.021 694.815C126.527 692.267 133.852 687.596 135.179 681.691C136.36 676.462 132.817 671.194 129.433 666.231C114.039 643.618 100.53 620.555 88.9985 597.146C84.4335 587.883 80.134 578.501 73.3529 569.73C67.9784 562.789 61.1177 556.314 54.2703 549.864C46.0427 542.114 37.8152 534.365 29.5876 526.615C25.2748 522.554 20.9487 518.48 15.8927 514.751C9.78843 510.239 2.6225 506.258 -2.63252 501.361C-6.95862 497.341 -9.90461 492.802 -14.4696 488.887C-19.0345 484.973 -25.9351 481.602 -33.5124 481.682C-45.4158 481.801 -52.0774 489.75 -56.3372 496.597C-65.3344 511.022 -74.3714 525.58 -78.3658 541C-79.6265 545.87 -80.3829 550.806 -81.126 555.73C-83.9393 574.295 -86.7658 592.926 -85.8104 611.664C-85.1867 623.899 -82.9573 636.121 -80.7279 648.329C-79.6132 654.474 -78.4852 660.618 -77.3705 666.762C-75.9639 674.432 -75.8444 685.552 -68.2539 692.227C-62.4017 697.389 -51.6395 697.827 -42.5759 698.876C-10.4885 702.578 22.2094 703.481 54.2968 701.517Z' fill='%2367986C'/%3E%3Cpath d='M104.658 671.831C125.318 671.831 142.066 655.083 142.066 634.422C142.066 613.762 125.318 597.013 104.658 597.013C83.9972 597.013 67.2487 613.762 67.2487 634.422C67.2487 655.083 83.9972 671.831 104.658 671.831Z' fill='%2367986C'/%3E%3C/g%3E%3Cpath d='M383.548 656.398C384.5 648.455 384.207 640.183 383.804 632.167C383.658 629.531 383.512 626.786 382.194 624.516C378.828 618.696 370.045 619.099 364.154 622.357C363.349 622.796 362.544 623.308 361.739 623.821C356.872 627.005 352.554 631.178 347.065 632.972C338.941 635.607 330.122 632.569 321.596 632.606C313.948 632.642 306.409 635.205 298.798 634.436C290.82 633.631 283.612 629.238 275.744 627.628C265.534 625.541 254.922 628.213 244.566 627.115C233.881 625.98 223.379 620.892 212.877 622.942C201.423 625.212 192.311 635.607 180.638 635.644C169.587 635.681 160.585 626.383 149.716 624.553C133.871 621.881 119.197 635.424 103.169 634.802C93.2527 634.436 84.4336 628.726 75.1023 625.358C65.6246 621.954 55.3419 621.991 47.95 629.348C40.5215 636.742 34.6666 641.537 23.652 641.72C14.9793 641.903 4.66 642.342 0.0126379 649.663C-1.34132 651.75 -1.92681 654.056 -1.96341 656.398H-2V856.147H384.17V656.398H383.548Z' fill='%23F1E2CC'/%3E%3Cpath d='M103.925 754.664C102.904 754.812 101.798 754.671 100.774 754.337C97.9269 753.417 96.0286 750.289 93.1125 751.937C90.8271 752.829 89.0475 754.428 86.6465 754.787C84.3517 755.118 82.007 755.139 80.4896 754.284C77.8607 752.421 77.2613 748.937 77.1863 745.49C77.2207 742.723 76.6681 739.959 76.1154 737.21C75.8875 735.01 75.7252 732.534 78.4196 731.342C78.9785 731.087 79.553 730.986 80.1118 731.002C80.986 731.029 81.9914 731.173 82.8812 731.719C84.1987 732.353 84.5796 733.707 84.4922 735.086C84.4548 736.594 84.1269 738.261 84.0957 739.857C83.7648 742.07 83.7117 744.328 84.0863 746.915C84.0863 746.924 84.0895 746.936 84.0926 746.945C84.3767 748.312 86.0814 748.94 87.5301 748.107C88.5979 747.387 89.6095 746.722 90.5555 746.225C92.9127 745.162 95.1076 745.484 97.0589 746.452C98.1361 746.988 101.477 750.782 102.907 750.534C103.8 750.377 104.855 749.89 105.86 750.295C107.865 751.098 106.825 753.356 105.751 754.021C105.205 754.358 104.583 754.569 103.925 754.664Z' fill='%23F8A1A6'/%3E%3Cpath d='M80.5801 740.636C81.6448 740.476 82.5346 740.262 83.2902 740.149C83.5556 740.103 83.8366 740.066 84.1176 740.179C84.614 740.381 84.5984 740.948 84.6858 741.402C84.7357 742.039 84.8325 742.674 84.9481 743.348C85.0105 743.817 85.1167 744.298 85.2134 744.779C85.279 745.15 85.5319 745.606 85.1135 745.857C84.7389 746.075 84.0738 746.054 83.6336 746.066C82.9311 746.078 82.2349 746.047 81.5511 746.011C80.7269 745.995 79.887 745.956 79.0565 745.897C78.429 745.854 77.4673 745.864 76.9397 745.658C76.7368 745.582 76.615 745.447 76.5338 745.306C76.0686 744.252 76.1935 742.579 76.0998 741.411C76.0155 740.685 76.9459 740.795 77.8732 740.817C78.788 740.838 79.7028 740.755 80.5801 740.636Z' fill='%23F8C5BA'/%3E%3Cpath d='M81.5105 735.006C81.4044 735.024 81.267 735.095 81.1577 735.217C81.0828 735.3 81.0141 735.435 81.0016 735.558C80.9891 735.702 81.0516 735.778 81.114 735.833C81.1952 735.907 81.2795 735.974 81.3731 736.026C81.4574 736.075 81.5574 736.109 81.6666 736.048C81.9757 735.879 81.9913 735.331 81.854 735.147C81.7665 735.034 81.6479 734.981 81.5105 735.006Z' fill='%23595550'/%3E%3Cpath d='M78.0311 735.339C78.0717 735.241 78.1623 735.13 78.2934 735.06C78.3808 735.011 78.5119 734.983 78.6181 735.011C78.743 735.042 78.7929 735.124 78.8242 735.201C78.8679 735.302 78.9022 735.403 78.9241 735.507C78.9459 735.605 78.9522 735.71 78.8741 735.798C78.6618 736.05 78.1966 735.9 78.0717 735.713C77.9937 735.596 77.9781 735.464 78.0311 735.339Z' fill='%23595550'/%3E%3C/g%3E%3Cdefs%3E%3Cfilter id='filter0_d_202_910' x='0' y='0' width='383' height='820' filterUnits='userSpaceOnUse' color-interpolation-filters='sRGB'%3E%3CfeFlood flood-opacity='0' result='BackgroundImageFix'/%3E%3CfeColorMatrix in='SourceAlpha' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0' result='hardAlpha'/%3E%3CfeOffset dy='4'/%3E%3CfeGaussianBlur stdDeviation='2'/%3E%3CfeComposite in2='hardAlpha' operator='out'/%3E%3CfeColorMatrix type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0'/%3E%3CfeBlend mode='normal' in2='BackgroundImageFix' result='effect1_dropShadow_202_910'/%3E%3CfeBlend mode='normal' in='SourceGraphic' in2='effect1_dropShadow_202_910' result='shape'/%3E%3C/filter%3E%3Cfilter id='filter1_f_202_910' x='-90.9999' y='399' width='626.022' height='329.283' filterUnits='userSpaceOnUse' color-interpolation-filters='sRGB'%3E%3CfeFlood flood-opacity='0' result='BackgroundImageFix'/%3E%3CfeBlend mode='normal' in='SourceGraphic' in2='BackgroundImageFix' result='shape'/%3E%3CfeGaussianBlur stdDeviation='2.5' result='effect1_foregroundBlur_202_910'/%3E%3C/filter%3E%3CclipPath id='clip0_202_910'%3E%3Crect width='375' height='812' fill='white' transform='translate(4)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A");
  background-position: center;
  background-size: auto;
  background-repeat: no-repeat;

  height: 812px;
`;
